<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Arquetipos de Innovaci√≥n - Josepolo | vertical-i</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background-color: #f0f7ff;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        .option {
            transition: all 0.3s ease;
        }
        .option:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }
        .option.selected {
            border-color: #3b82f6;
            background-color: #eff6ff;
        }
        .progress-bar {
            transition: width 0.5s ease-in-out;
        }
        .result-card {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeIn 0.8s forwards;
        }
        @keyframes fadeIn {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .archetype-icon {
            font-size: 2.5rem;
            height: 60px;
            width: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }
        .logo-text {
            background: linear-gradient(135deg, #3b82f6, #6366f1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-weight: 800;
            letter-spacing: -0.5px;
        }
        .vertical-i {
            color: #4f46e5;
            font-weight: 700;
            letter-spacing: -0.5px;
        }
        .previsora-color {
            color: #005BAA;
        }
        .previsora-bg {
            background-color: #005BAA;
        }
        .previsora-border {
            border-color: #005BAA;
        }
        .previsora-gradient {
            background: linear-gradient(135deg, #005BAA, #0077c2);
        }
    </style>
</head>
<body>
    <div class="min-h-screen flex flex-col items-center justify-center p-4 py-10">
        <div class="w-full max-w-4xl bg-white rounded-xl shadow-lg overflow-hidden">
            <!-- Header -->
            <div class="bg-gradient-to-r from-blue-600 to-indigo-700 p-6 text-white">
                <div class="flex justify-center items-center mb-3">
                    <div class="text-center">
                        <h1 class="text-3xl font-bold">Test de Arquetipos de Innovaci√≥n</h1>
                        <p class="text-sm mt-1 opacity-90">por <span class="font-bold">Josepolo</span>, creador de <span class="font-bold">vertical-i</span></p>
                        <p class="text-sm mt-1 opacity-90">Para el talento humano de <span class="font-bold">Previsora Seguros</span></p>
                    </div>
                </div>
            </div>
            
            <!-- Progress bar -->
            <div class="w-full bg-gray-200 h-2">
                <div id="progress-bar" class="progress-bar bg-blue-500 h-2 w-0"></div>
            </div>
            
            <!-- Test container -->
            <div id="test-container" class="p-6">
                <!-- Start screen -->
                <div id="start-screen" class="text-center py-8">
                    <div class="flex justify-center mb-6">
                        <div class="inline-block p-4 rounded-full bg-blue-50 border-2 border-blue-100">
                            <div class="flex space-x-2">
                                <span class="text-4xl">üß†</span>
                                <span class="text-4xl">üß≠</span>
                                <span class="text-4xl">‚ö°</span>
                            </div>
                        </div>
                    </div>
                    <h2 class="text-2xl font-bold mb-4">¬°Bienvenido al Test de Arquetipos de Innovaci√≥n!</h2>
                    <p class="text-gray-600 mb-3 max-w-2xl mx-auto">Desarrollado por <span class="font-bold logo-text">Josepolo</span>, experto en innovaci√≥n y creador de <span class="vertical-i">vertical-i</span>.</p>
                    <p class="text-gray-600 mb-3 max-w-2xl mx-auto">Especialmente adaptado para el talento humano de <span class="font-bold previsora-color">Previsora Seguros</span>.</p>
                    <p class="text-gray-600 mb-4 max-w-2xl mx-auto">En cada grupo de frases, elige solo una: la que m√°s se parezca a ti. Cada frase representa un arquetipo distinto de innovaci√≥n.</p>
                    <p class="text-gray-600 mb-8 max-w-2xl mx-auto">Descubre si eres un Visionario, Navegante, Rebelde, Maestro, Coach o Pionero.</p>
                    <button id="start-btn" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-full transition-all">
                        Comenzar Test
                    </button>
                </div>
                
                <!-- Questions will be inserted here -->
                <div id="questions-container" class="hidden"></div>
                
                <!-- Results screen -->
                <div id="results-container" class="hidden py-6">
                    <div class="text-center mb-8">
                        <div id="primary-icon" class="text-6xl mb-4 mx-auto"></div>
                        <h2 class="text-2xl font-bold">¬°Test completado!</h2>
                        <p class="text-gray-600 mt-2">Tu arquetipo de innovaci√≥n dominante es:</p>
                        <h3 id="primary-archetype" class="text-3xl font-bold mt-2 text-blue-700"></h3>
                    </div>
                    
                    <div id="results-content" class="space-y-6"></div>
                    
                    <div class="mt-10 text-center">
                        <button id="restart-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-6 rounded-full transition-all">
                            Reiniciar Test
                        </button>
                        <button id="learn-more-btn" class="bg-white border border-indigo-600 text-indigo-600 hover:bg-indigo-50 font-bold py-2 px-6 rounded-full transition-all ml-2">
                            M√°s sobre los arquetipos
                        </button>
                        <button id="next-steps-btn" class="previsora-bg hover:bg-blue-700 text-white font-bold py-2 px-6 rounded-full transition-all mt-4">
                            Recibir resultados por correo
                        </button>
                    </div>
                    
                    <div class="mt-8 pt-6 border-t border-gray-200 text-center">
                        <p class="text-gray-500 text-sm">Test desarrollado por <span class="font-bold logo-text">Josepolo</span>, experto en innovaci√≥n</p>
                        <p class="text-gray-500 text-sm">Creador de <span class="vertical-i">vertical-i</span> | Metodolog√≠a de innovaci√≥n</p>
                        <p class="text-gray-500 text-sm mt-1">Adaptado para <span class="font-bold previsora-color">Previsora Seguros</span></p>
                    </div>
                </div>
                
                <!-- Learn more modal -->
                <div id="learn-more-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
                    <div class="bg-white rounded-xl max-w-3xl max-h-[90vh] overflow-y-auto p-6 m-4">
                        <div class="flex justify-between items-center mb-4">
                            <div>
                                <h3 class="text-xl font-bold">Arquetipos de Innovaci√≥n</h3>
                                <p class="text-sm text-gray-600">por <span class="font-bold logo-text">Josepolo</span> | <span class="vertical-i">vertical-i</span></p>
                            </div>
                            <button id="close-modal-btn" class="text-gray-500 hover:text-gray-700">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                                </svg>
                            </button>
                        </div>
                        <div id="archetypes-info" class="space-y-6">
                            <!-- Archetypes info will be inserted here -->
                        </div>
                    </div>
                </div>
                
                <!-- Email form modal -->
                <div id="next-steps-modal" class="fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center hidden">
                    <div class="bg-white rounded-xl max-w-md w-full max-h-[90vh] overflow-y-auto p-6 m-4">
                        <div class="flex justify-between items-center mb-4">
                            <div>
                                <h3 class="text-xl font-bold previsora-color">Recibe tu perfil por correo</h3>
                                <p class="text-sm text-gray-600">Te enviaremos un resumen de tu arquetipo</p>
                            </div>
                            <button id="close-form-modal-btn" class="text-gray-500 hover:text-gray-700">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                                </svg>
                            </button>
                        </div>
                        
                        <div class="mb-6 p-4 bg-blue-50 rounded-lg">
                            <div class="flex items-start">
                                <div class="text-3xl mr-3">üìß</div>
                                <div>
                                    <h4 class="font-bold text-blue-800 mb-1">Recibe tu perfil completo</h4>
                                    <p class="text-gray-700 text-sm">Completa el formulario para recibir un resumen detallado de tu arquetipo de innovaci√≥n en tu correo electr√≥nico.</p>
                                </div>
                            </div>
                        </div>
                        
                        <form id="next-steps-form" class="space-y-4">
                            <div>
                                <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Nombre completo</label>
                                <input type="text" id="name" name="name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            
                            <div>
                                <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Correo electr√≥nico</label>
                                <input type="email" id="email" name="email" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            
                            <div>
                                <label for="area" class="block text-sm font-medium text-gray-700 mb-1">√Årea o departamento</label>
                                <input type="text" id="area" name="area" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            
                            <div>
                                <label for="archetype" class="block text-sm font-medium text-gray-700 mb-1">Tu arquetipo principal</label>
                                <input type="text" id="archetype" name="archetype" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-gray-50" readonly>
                            </div>
                            
                            <div class="pt-4">
                                <button type="submit" class="w-full previsora-gradient hover:opacity-90 text-white font-bold py-3 px-4 rounded-md transition-all">
                                    Enviar resultados a mi correo
                                </button>
                            </div>
                            
                            <p class="text-xs text-gray-500 text-center mt-4">
                                La informaci√≥n proporcionada solo se utilizar√° para enviarte los resultados de tu test.
                            </p>
                        </form>
                        
                        <div id="form-success" class="hidden">
                            <div class="text-center py-8">
                                <div class="mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4">
                                    <svg class="h-10 w-10 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                                    </svg>
                                </div>
                                <h3 class="text-xl font-bold text-gray-900 mb-2">¬°Correo enviado!</h3>
                                <p class="text-gray-600 mb-6">Hemos enviado un resumen detallado de tu arquetipo de innovaci√≥n a tu correo electr√≥nico.</p>
                                <button id="close-success-btn" class="bg-gray-100 hover:bg-gray-200 text-gray-800 font-medium py-2 px-6 rounded-md transition-all">
                                    Cerrar
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Backend notification toast -->
                <div id="backend-notification" class="fixed bottom-4 right-4 bg-green-100 border-l-4 border-green-500 text-green-700 p-4 rounded shadow-md hidden transform transition-all duration-300 translate-y-10 opacity-0">
                    <div class="flex items-center">
                        <div class="py-1 mr-3">
                            <svg class="h-6 w-6 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                            </svg>
                        </div>
                        <div>
                            <p class="font-bold">Datos enviados al backend</p>
                            <p class="text-sm">Los resultados completos han sido enviados correctamente</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Test data
        const questions = [
            {
                id: 1,
                text: "Pregunta 1",
                options: [
                    { text: "Siempre veo m√°s all√° del presente, imaginando futuros posibles.", archetype: "Visionario" },
                    { text: "Me encanta explorar territorios desconocidos.", archetype: "Pionero" },
                    { text: "Creo en el poder de la colaboraci√≥n.", archetype: "Coach" },
                    { text: "Valoro la profundidad de conocimiento en mi √°rea de especialidad.", archetype: "Maestro" },
                    { text: "Siempre cuestiono el status quo.", archetype: "Rebelde" },
                    { text: "Me adapto f√°cilmente a situaciones cambiantes.", archetype: "Navegante" }
                ]
            },
            {
                id: 2,
                text: "Pregunta 2",
                options: [
                    { text: "Me siento inspirado por las grandes ideas, incluso si parecen inalcanzables.", archetype: "Visionario" },
                    { text: "Aprendo mejor a trav√©s de la experimentaci√≥n directa.", archetype: "Pionero" },
                    { text: "Mi objetivo es empoderar a mi equipo para que alcance su m√°ximo potencial.", archetype: "Coach" },
                    { text: "Siempre busco la perfecci√≥n en mi trabajo.", archetype: "Maestro" },
                    { text: "No tengo miedo de desafiar las normas o las expectativas.", archetype: "Rebelde" },
                    { text: "Veo el cambio como una oportunidad, no como un obst√°culo.", archetype: "Navegante" }
                ]
            },
            {
                id: 3,
                text: "Pregunta 3",
                options: [
                    { text: "Creo que la innovaci√≥n disruptiva es la clave para el cambio significativo.", archetype: "Visionario" },
                    { text: "No tengo miedo de cometer errores; son oportunidades de aprendizaje.", archetype: "Pionero" },
                    { text: "Valoro las opiniones y perspectivas de todos.", archetype: "Coach" },
                    { text: "Creo que la maestr√≠a es esencial para la innovaci√≥n de calidad.", archetype: "Maestro" },
                    { text: "Creo que las reglas est√°n hechas para romperlas.", archetype: "Rebelde" },
                    { text: "Siempre estoy buscando rutas alternativas hacia el √©xito.", archetype: "Navegante" }
                ]
            },
            {
                id: 4,
                text: "Pregunta 4",
                options: [
                    { text: "No me asusta desafiar el status quo.", archetype: "Visionario" },
                    { text: "Siempre busco formas de mejorar y optimizar.", archetype: "Pionero" },
                    { text: "S√© que el √©xito en la innovaci√≥n se logra mejor en equipo.", archetype: "Coach" },
                    { text: "Me siento frustrado con soluciones superficiales o apresuradas.", archetype: "Maestro" },
                    { text: "Me siento atra√≠do por ideas radicales y enfoques disruptivos.", archetype: "Rebelde" },
                    { text: "Creo que la flexibilidad es esencial en el mundo de la innovaci√≥n.", archetype: "Navegante" }
                ]
            },
            {
                id: 5,
                text: "Pregunta 5",
                options: [
                    { text: "Busco constantemente tendencias emergentes para anticiparme a ellas.", archetype: "Visionario" },
                    { text: "Me siento atra√≠do por las soluciones no convencionales.", archetype: "Pionero" },
                    { text: "Busco constantemente formas de mejorar la din√°mica del equipo.", archetype: "Coach" },
                    { text: "Siempre estoy dispuesto a compartir mi conocimiento con otros.", archetype: "Maestro" },
                    { text: "Siempre busco formas de hacer las cosas de manera diferente.", archetype: "Rebelde" },
                    { text: "Aprendo r√°pidamente y ajusto mi enfoque seg√∫n sea necesario.", archetype: "Navegante" }
                ]
            },
            {
                id: 6,
                text: "Pregunta 6",
                options: [
                    { text: "Veo conexiones entre ideas dispares.", archetype: "Visionario" },
                    { text: "La curiosidad es mi br√∫jula.", archetype: "Pionero" },
                    { text: "Me siento m√°s realizado cuando otros tienen √©xito.", archetype: "Coach" },
                    { text: "La precisi√≥n y la atenci√≥n al detalle son cruciales para m√≠.", archetype: "Maestro" },
                    { text: "La conformidad me frustra.", archetype: "Rebelde" },
                    { text: "No me asusta pivotar si veo una mejor oportunidad.", archetype: "Navegante" }
                ]
            },
            {
                id: 7,
                text: "Pregunta 7",
                options: [
                    { text: "Creo que la visi√≥n es tan importante como la ejecuci√≥n.", archetype: "Visionario" },
                    { text: "Creo que cada desaf√≠o es una oportunidad enmascarada.", archetype: "Pionero" },
                    { text: "Creo que cada miembro del equipo tiene un valor √∫nico.", archetype: "Coach" },
                    { text: "Busco constantemente aprender y mejorar.", archetype: "Maestro" },
                    { text: "Creo que la innovaci√≥n requiere coraje y audacia.", archetype: "Rebelde" },
                    { text: "Creo que la resiliencia es clave para la innovaci√≥n a largo plazo.", archetype: "Navegante" }
                ]
            },
            {
                id: 8,
                text: "Pregunta 8",
                options: [
                    { text: "Me siento frustrado cuando otros no ven el potencial a largo plazo.", archetype: "Visionario" },
                    { text: "Me siento inquieto si no estoy probando algo nuevo.", archetype: "Pionero" },
                    { text: "La comunicaci√≥n abierta es esencial para la innovaci√≥n.", archetype: "Coach" },
                    { text: "Creo que la verdadera innovaci√≥n proviene de la profundidad de comprensi√≥n.", archetype: "Maestro" },
                    { text: "No me detengo ante la resistencia o la cr√≠tica.", archetype: "Rebelde" },
                    { text: "Siempre estoy preparado para el cambio.", archetype: "Navegante" }
                ]
            },
            {
                id: 9,
                text: "Pregunta 9",
                options: [
                    { text: "Siempre estoy dispuesto a invertir en el futuro.", archetype: "Visionario" },
                    { text: "Siempre estoy buscando el pr√≥ximo gran avance.", archetype: "Pionero" },
                    { text: "Siempre busco oportunidades para mentorizar y guiar.", archetype: "Coach" },
                    { text: "Valoro la calidad sobre la cantidad.", archetype: "Maestro" },
                    { text: "Siempre busco oportunidades para introducir nuevas perspectivas.", archetype: "Rebelde" },
                    { text: "Valoro la agilidad en la toma de decisiones y la ejecuci√≥n.", archetype: "Navegante" }
                ]
            },
            {
                id: 10,
                text: "Pregunta 10",
                options: [
                    { text: "Creo que la innovaci√≥n es una cuesti√≥n de perspectiva.", archetype: "Visionario" },
                    { text: "La innovaci√≥n es un viaje, no un destino.", archetype: "Pionero" },
                    { text: "La confianza es la base de cualquier equipo innovador.", archetype: "Coach" },
                    { text: "Me siento orgulloso cuando mi trabajo establece un est√°ndar en la industria.", archetype: "Maestro" },
                    { text: "La verdadera innovaci√≥n, para m√≠, es revolucionaria.", archetype: "Rebelde" },
                    { text: "Navegar a trav√©s de la incertidumbre es mi fortaleza.", archetype: "Navegante" }
                ]
            }
        ];

        // Archetype data
        const archetypes = {
            "Visionario": {
                icon: "üß†",
                animalIcon: "ü¶Ö",
                elementIcon: "He",
                color: "blue",
                description: "Como Visionario, tienes una capacidad innata para anticipar el futuro y ver m√°s all√° del presente. Eres un l√≠der nato impulsado por posibilidades y a menudo te encuentras so√±ando despierto con 'lo que podr√≠a ser'.",
                strengths: ["Pensamiento a largo plazo", "Creatividad conceptual", "Capacidad para inspirar"],
                challenges: ["Puede sentirse frustrado con resistencia al cambio", "A veces le cuesta materializar sus visiones"],
                bgGradient: "from-blue-50 to-indigo-50",
                borderColor: "border-blue-200",
                iconBg: "bg-blue-100",
                fullDescription: "Es un l√≠der nato con una capacidad innata para anticipar el futuro. Con una mentalidad orientada hacia el ma√±ana, este innovador se siente impulsado por posibilidades y a menudo se encuentra so√±ando despierto con 'lo que podr√≠a ser'. Su principal motivaci√≥n es crear un impacto duradero y ser pionero en nuevas ideas. En Previsora Seguros, puede ayudar a anticipar tendencias del mercado asegurador y visualizar nuevos productos.",
                entrepreneur: "Elon Musk",
                animal: "√Åguila",
                element: "Helio",
                incentives: "Acceso a conferencias sobre tendencias futuras o un fondo especial para desarrollar sus ideas"
            },
            "Navegante": {
                icon: "üß≠",
                animalIcon: "ü¶é",
                elementIcon: "Hg",
                color: "teal",
                description: "Como Navegante, te adaptas f√°cilmente a entornos cambiantes y ves el cambio como una oportunidad. Tienes una habilidad natural para encontrar rutas alternativas hacia el √©xito y pivotar cuando es necesario.",
                strengths: ["Adaptabilidad", "Resiliencia", "Pensamiento estrat√©gico"],
                challenges: ["Puede parecer indeciso", "A veces le cuesta comprometerse con una direcci√≥n"],
                bgGradient: "from-teal-50 to-emerald-50",
                borderColor: "border-teal-200",
                iconBg: "bg-teal-100",
                fullDescription: "Es un maestro de la adaptabilidad, enfrentando desaf√≠os con flexibilidad y resiliencia. En el cambiante mundo del emprendimiento, es quien encuentra rutas seguras a trav√©s de mares inciertos. Su principal motivaci√≥n es descubrir nuevos horizontes y adaptarse a desaf√≠os cambiantes. En Previsora Seguros, puede ser clave para adaptarse a cambios regulatorios y nuevas condiciones del mercado.",
                entrepreneur: "Jack Ma",
                animal: "Camale√≥n",
                element: "Mercurio",
                incentives: "Programas de resiliencia o fondos de pivot"
            },
            "Rebelde": {
                icon: "‚ö°",
                animalIcon: "üê∫",
                elementIcon: "F",
                color: "red",
                description: "Como Rebelde, cuestionas constantemente el status quo y no temes desafiar las normas establecidas. Tu enfoque disruptivo y tu valent√≠a para romper reglas son fundamentales para la innovaci√≥n radical.",
                strengths: ["Pensamiento disruptivo", "Coraje", "Originalidad"],
                challenges: ["Puede generar resistencia", "A veces subestima la importancia de la tradici√≥n"],
                bgGradient: "from-red-50 to-orange-50",
                borderColor: "border-red-200",
                iconBg: "bg-red-100",
                fullDescription: "Desaf√≠a el status quo y no tiene miedo de romper las reglas. Siempre busca formas de hacer las cosas de manera diferente y cree que las reglas est√°n hechas para ser rotas. En Previsora Seguros, puede impulsar cambios disruptivos en procesos tradicionales y cuestionar pr√°cticas obsoletas del sector asegurador.",
                entrepreneur: "Travis Kalanick",
                animal: "Lobo",
                element: "Fl√∫or",
                incentives: "Una zona libre de reglas o talleres disruptivos"
            },
            "Maestro": {
                icon: "üìö",
                animalIcon: "ü¶â",
                elementIcon: "Au",
                color: "purple",
                description: "Como Maestro, valoras la profundidad de conocimiento y la perfecci√≥n en tu trabajo. Tu experiencia y atenci√≥n al detalle te permiten crear innovaciones de alta calidad basadas en una comprensi√≥n profunda.",
                strengths: ["Experiencia profunda", "Precisi√≥n", "Calidad en la ejecuci√≥n"],
                challenges: ["Puede ser perfeccionista", "A veces le cuesta aceptar enfoques no tradicionales"],
                bgGradient: "from-purple-50 to-violet-50",
                borderColor: "border-purple-200",
                iconBg: "bg-purple-100",
                fullDescription: "Es un experto en su campo, buscando siempre la perfecci√≥n. Valora la precisi√≥n y la maestr√≠a en todo lo que hace. Su principal motivaci√≥n es ser reconocido como experto y compartir sus conocimientos. En Previsora Seguros, puede aportar rigor t√©cnico y profundidad a los productos y servicios, especialmente en √°reas como actuar√≠a y gesti√≥n de riesgos.",
                entrepreneur: "Steve Wozniak",
                animal: "B√∫ho",
                element: "Oro",
                incentives: "Acceso a recursos premium o conferencias de expertos"
            },
            "Coach": {
                icon: "ü§ù",
                animalIcon: "üêò",
                elementIcon: "C",
                color: "green",
                description: "Como Coach, crees en el poder de la colaboraci√≥n y te enfocas en empoderar a tu equipo. Tu capacidad para valorar diversas perspectivas y fomentar la comunicaci√≥n abierta es clave para la innovaci√≥n colectiva.",
                strengths: ["Empat√≠a", "Habilidades de comunicaci√≥n", "Construcci√≥n de equipos"],
                challenges: ["Puede priorizar la armon√≠a sobre la disrupci√≥n", "A veces le cuesta tomar decisiones dif√≠ciles"],
                bgGradient: "from-green-50 to-lime-50",
                borderColor: "border-green-200",
                iconBg: "bg-green-100",
                fullDescription: "Es un facilitador y mentor. Su mayor satisfacci√≥n proviene de empoderar a otros y ayudarles a alcanzar su m√°ximo potencial. Valora la colaboraci√≥n y busca constantemente formas de mejorar la din√°mica del equipo. En Previsora Seguros, puede ser fundamental para crear equipos multidisciplinarios efectivos y fomentar una cultura de innovaci√≥n colaborativa.",
                entrepreneur: "Reid Hoffman",
                animal: "Elefante",
                element: "Carbono",
                incentives: "Programas de mentor√≠a o bonificaciones por colaboraci√≥n"
            },
            "Pionero": {
                icon: "üöÄ",
                animalIcon: "üêí",
                elementIcon: "Fr",
                color: "amber",
                description: "Como Pionero, te encanta explorar territorios desconocidos y aprender a trav√©s de la experimentaci√≥n. Tu curiosidad y disposici√≥n para asumir riesgos te permiten descubrir nuevas oportunidades donde otros no las ven.",
                strengths: ["Esp√≠ritu aventurero", "Aprendizaje pr√°ctico", "Tolerancia al riesgo"],
                challenges: ["Puede ser impaciente", "A veces subestima los riesgos"],
                bgGradient: "from-amber-50 to-yellow-50",
                borderColor: "border-amber-200",
                iconBg: "bg-amber-100",
                fullDescription: "Es un experimentador incansable, siempre en busca de la pr√≥xima gran idea. Su esp√≠ritu aventurero lo lleva a explorar territorios desconocidos, y aprende mejor a trav√©s de la experimentaci√≥n directa. En Previsora Seguros, puede liderar iniciativas piloto y explorar nuevos canales de distribuci√≥n o tecnolog√≠as emergentes aplicadas al sector asegurador.",
                entrepreneur: "Richard Branson",
                animal: "Mono",
                element: "Francio",
                incentives: "Un laboratorio de experimentaci√≥n o becas de aprendizaje"
            }
        };

        // Variables
        let currentQuestion = 0;
        let userAnswers = [];
        let primaryArchetype = "";
        let testResults = null; // Variable para almacenar los resultados completos
        let userInfo = {
            name: "",
            email: "",
            area: ""
        };
        
        // DOM elements
        const startScreen = document.getElementById('start-screen');
        const questionsContainer = document.getElementById('questions-container');
        const resultsContainer = document.getElementById('results-container');
        const progressBar = document.getElementById('progress-bar');
        const startBtn = document.getElementById('start-btn');
        const restartBtn = document.getElementById('restart-btn');
        const learnMoreBtn = document.getElementById('learn-more-btn');
        const nextStepsBtn = document.getElementById('next-steps-btn');
        const learnMoreModal = document.getElementById('learn-more-modal');
        const nextStepsModal = document.getElementById('next-steps-modal');
        const closeModalBtn = document.getElementById('close-modal-btn');
        const closeFormModalBtn = document.getElementById('close-form-modal-btn');
        const nextStepsForm = document.getElementById('next-steps-form');
        const formSuccess = document.getElementById('form-success');
        const closeSuccessBtn = document.getElementById('close-success-btn');
        const backendNotification = document.getElementById('backend-notification');
        
        // Start the test
        startBtn.addEventListener('click', () => {
            startScreen.classList.add('hidden');
            questionsContainer.classList.remove('hidden');
            userAnswers = [];
            showQuestion(0);
        });
        
        // Restart the test
        restartBtn.addEventListener('click', () => {
            resultsContainer.classList.add('hidden');
            startScreen.classList.remove('hidden');
            currentQuestion = 0;
            progressBar.style.width = '0%';
        });
        
        // Learn more button
        learnMoreBtn.addEventListener('click', () => {
            showArchetypesInfo();
            learnMoreModal.classList.remove('hidden');
        });
        
        // Next steps button
        nextStepsBtn.addEventListener('click', () => {
            document.getElementById('archetype').value = primaryArchetype;
            nextStepsModal.classList.remove('hidden');
        });
        
        // Close modal buttons
        closeModalBtn.addEventListener('click', () => {
            learnMoreModal.classList.add('hidden');
        });
        
        closeFormModalBtn.addEventListener('click', () => {
            nextStepsModal.classList.add('hidden');
        });
        
        closeSuccessBtn.addEventListener('click', () => {
            nextStepsModal.classList.add('hidden');
            formSuccess.classList.add('hidden');
            nextStepsForm.classList.remove('hidden');
        });
        
        // Close modals when clicking outside
        learnMoreModal.addEventListener('click', (e) => {
            if (e.target === learnMoreModal) {
                learnMoreModal.classList.add('hidden');
            }
        });
        
        nextStepsModal.addEventListener('click', (e) => {
            if (e.target === nextStepsModal) {
                nextStepsModal.classList.add('hidden');
            }
        });
        
        // Form submission
        nextStepsForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            // Recopilar informaci√≥n del usuario
            userInfo = {
                name: document.getElementById('name').value,
                email: document.getElementById('email').value,
                area: document.getElementById('area').value
            };
            
            // Enviar datos completos al backend
            sendResultsToBackend();
            
            // Mostrar mensaje de √©xito
            nextStepsForm.classList.add('hidden');
            formSuccess.classList.remove('hidden');
        });
        
        // Show a question
        function showQuestion(index) {
            if (index >= questions.length) {
                showResults();
                return;
            }
            
            const question = questions[index];
            const progressPercentage = ((index + 1) / questions.length) * 100;
            progressBar.style.width = `${progressPercentage}%`;
            
            let optionsHTML = '';
            question.options.forEach((option, i) => {
                const letter = String.fromCharCode(65 + i); // A, B, C, D, E, F
                optionsHTML += `
                    <div class="option border border-gray-200 rounded-lg mb-4 cursor-pointer transition-all" 
                         data-option="${i}">
                        <div class="flex p-4">
                            <div class="flex-shrink-0 w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center mr-3 font-semibold text-gray-700">${letter}</div>
                            <span class="text-gray-800">${option.text}</span>
                        </div>
                    </div>
                `;
            });
            
            questionsContainer.innerHTML = `
                <div class="mb-8">
                    <h3 class="text-xl font-semibold mb-1">${question.text}</h3>
                    <p class="text-gray-600 text-sm mb-6">Elige la opci√≥n que m√°s se parezca a ti.</p>
                </div>
                <div class="options-container">
                    ${optionsHTML}
                </div>
            `;
            
            // Add event listeners to options
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', () => {
                    // Remove selected class from all options
                    document.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // Add selected class to clicked option
                    option.classList.add('selected');
                    
                    const optionIndex = parseInt(option.dataset.option);
                    const selectedOption = question.options[optionIndex];
                    
                    // Save answer with full context
                    userAnswers[index] = {
                        questionId: question.id,
                        questionText: question.text,
                        selectedOption: selectedOption.text,
                        archetype: selectedOption.archetype
                    };
                    
                    // Go to next question after a short delay
                    setTimeout(() => {
                        currentQuestion++;
                        showQuestion(currentQuestion);
                    }, 400);
                });
            });
        }
        
        // Show results
        function showResults() {
            questionsContainer.classList.add('hidden');
            resultsContainer.classList.remove('hidden');
            
            // Count archetype frequencies
            const archetypeCounts = {};
            Object.keys(archetypes).forEach(type => {
                archetypeCounts[type] = 0;
            });
            
            userAnswers.forEach(answer => {
                archetypeCounts[answer.archetype]++;
            });
            
            // Find dominant archetypes
            const sortedArchetypes = Object.entries(archetypeCounts)
                .sort((a, b) => b[1] - a[1]);
            
            primaryArchetype = sortedArchetypes[0][0];
            const primaryCount = sortedArchetypes[0][1];
            const primaryPercentage = Math.round((primaryCount / questions.length) * 100);
            
            // Set primary archetype in header
            document.getElementById('primary-archetype').textContent = primaryArchetype;
            document.getElementById('primary-icon').textContent = archetypes[primaryArchetype].icon;
            
            // Generate results HTML
            let resultsHTML = '';
            
            // Primary archetype card
            const primary = archetypes[primaryArchetype];
            resultsHTML += `
                <div class="result-card bg-gradient-to-r ${primary.bgGradient} rounded-xl p-6 border ${primary.borderColor} shadow-sm">
                    <div class="flex items-start mb-4">
                        <div class="archetype-icon ${primary.iconBg} text-${primary.color}-700 rounded-full mr-4 flex-shrink-0">
                            ${primary.icon}
                        </div>
                        <div>
                            <h3 class="text-xl font-bold text-${primary.color}-700">El ${primaryArchetype}</h3>
                            <div class="flex items-center mt-1">
                                <div class="w-full bg-gray-200 rounded-full h-2 mr-2">
                                    <div class="bg-${primary.color}-500 h-2 rounded-full" style="width: ${primaryPercentage}%"></div>
                                </div>
                                <span class="text-sm text-gray-600">${primaryPercentage}%</span>
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-700 mb-4">${primary.fullDescription}</p>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                        <div class="bg-white bg-opacity-60 p-3 rounded-lg">
                            <div class="flex items-center mb-2">
                                <span class="text-xl mr-2">${primary.animalIcon}</span>
                                <h4 class="font-medium">Animal simb√≥lico</h4>
                            </div>
                            <p class="text-sm">${primary.animal}</p>
                        </div>
                        <div class="bg-white bg-opacity-60 p-3 rounded-lg">
                            <div class="flex items-center mb-2">
                                <span class="text-xl mr-2">üëë</span>
                                <h4 class="font-medium">Representante</h4>
                            </div>
                            <p class="text-sm">${primary.entrepreneur}</p>
                        </div>
                        <div class="bg-white bg-opacity-60 p-3 rounded-lg">
                            <div class="flex items-center mb-2">
                                <span class="text-xl font-bold mr-2">${primary.elementIcon}</span>
                                <h4 class="font-medium">Elemento</h4>
                            </div>
                            <p class="text-sm">${primary.element}</p>
                        </div>
                    </div>
                    
                    <div class="space-y-3">
                        <div>
                            <p class="font-medium mb-1 text-${primary.color}-700">Fortalezas:</p>
                            <ul class="list-disc pl-5 text-gray-700 text-sm">
                                ${primary.strengths.map(strength => `<li>${strength}</li>`).join('')}
                            </ul>
                        </div>
                        <div>
                            <p class="font-medium mb-1 text-${primary.color}-700">Desaf√≠os:</p>
                            <ul class="list-disc pl-5 text-gray-700 text-sm">
                                ${primary.challenges.map(challenge => `<li>${challenge}</li>`).join('')}
                            </ul>
                        </div>
                        <div>
                            <p class="font-medium mb-1 text-${primary.color}-700">Incentivos que te motivan:</p>
                            <p class="text-sm text-gray-700">${primary.incentives}</p>
                        </div>
                    </div>
                </div>
            `;
            
            // Secondary archetypes
            resultsHTML += `
                <div class="result-card bg-white rounded-xl p-6 border border-gray-200 shadow-sm" style="animation-delay: 0.2s">
                    <h3 class="text-lg font-bold mb-4">Tus arquetipos secundarios</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            `;
            
            // Add top 2 secondary archetypes
            for (let i = 1; i < Math.min(3, sortedArchetypes.length); i++) {
                const archetypeName = sortedArchetypes[i][0];
                const archetypeCount = sortedArchetypes[i][1];
                const archetypePercentage = Math.round((archetypeCount / questions.length) * 100);
                const archetype = archetypes[archetypeName];
                
                if (archetypeCount > 0) {
                    resultsHTML += `
                        <div class="flex items-center p-3 rounded-lg bg-${archetype.color}-50">
                            <div class="text-2xl mr-3">${archetype.icon}</div>
                            <div class="flex-grow">
                                <p class="font-medium text-${archetype.color}-700">El ${archetypeName}</p>
                                <div class="flex items-center mt-1">
                                    <div class="w-full bg-gray-200 rounded-full h-1.5 mr-2">
                                        <div class="bg-${archetype.color}-400 h-1.5 rounded-full" style="width: ${archetypePercentage}%"></div>
                                    </div>
                                    <span class="text-xs text-gray-500">${archetypePercentage}%</span>
                                </div>
                            </div>
                        </div>
                    `;
                }
            }
            
            resultsHTML += `
                    </div>
                </div>
            `;
            
            // All archetypes distribution
            resultsHTML += `
                <div class="result-card bg-white rounded-xl p-6 border border-gray-200 shadow-sm" style="animation-delay: 0.4s">
                    <h3 class="text-lg font-bold mb-4">Tu distribuci√≥n completa</h3>
                    <div class="space-y-3">
            `;
            
            sortedArchetypes.forEach(([archetypeName, archetypeCount]) => {
                const archetypePercentage = Math.round((archetypeCount / questions.length) * 100);
                const archetype = archetypes[archetypeName];
                
                resultsHTML += `
                    <div class="flex items-center">
                        <div class="text-xl mr-2 w-8 text-center">${archetype.icon}</div>
                        <div class="flex-grow">
                            <div class="flex justify-between mb-1">
                                <span class="text-sm font-medium text-gray-700">El ${archetypeName}</span>
                                <span class="text-sm text-gray-600">${archetypeCount}/${questions.length}</span>
                            </div>
                            <div class="w-full bg-gray-200 rounded-full h-2">
                                <div class="bg-${archetype.color}-500 h-2 rounded-full" style="width: ${archetypePercentage}%"></div>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            resultsHTML += `
                    </div>
                </div>
                
                <div class="result-card bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6 border border-blue-100 shadow-sm" style="animation-delay: 0.6s">
                    <div class="flex items-center justify-between">
                        <div>
                            <h3 class="text-lg font-bold text-blue-800">Metodolog√≠a vertical-i en Previsora Seguros</h3>
                            <p class="text-sm text-gray-600 mt-1">por Josepolo, experto en innovaci√≥n</p>
                        </div>
                        <div class="text-3xl">üìß</div>
                    </div>
                    <p class="text-gray-700 mt-3">Este test forma parte de la metodolog√≠a vertical-i, adaptada especialmente para el talento humano de Previsora Seguros.</p>
                    <p class="text-gray-700 mt-2">Conocer tu arquetipo de innovaci√≥n te ayuda a aprovechar tus fortalezas naturales y contribuir al crecimiento e innovaci√≥n de Previsora Seguros.</p>
                    <div class="mt-4 pt-4 border-t border-blue-100">
                        <p class="font-medium text-blue-800">¬øQuieres guardar tus resultados?</p>
                        <p class="text-gray-700 text-sm mt-1">Haz clic en "Recibir resultados por correo" para obtener un resumen detallado de tu perfil de innovaci√≥n.</p>
                    </div>
                </div>
            `;
            
            document.getElementById('results-content').innerHTML = resultsHTML;
            
            // Preparar los resultados completos para enviar al backend
            prepareTestResults(sortedArchetypes, archetypeCounts);
            
            // Enviar resultados al backend autom√°ticamente
            sendResultsToBackend(true);
        }
        
        // Preparar los resultados completos del test
        function prepareTestResults(sortedArchetypes, archetypeCounts) {
            // Calcular porcentajes para cada arquetipo
            const archetypePercentages = {};
            Object.entries(archetypeCounts).forEach(([archetype, count]) => {
                archetypePercentages[archetype] = Math.round((count / questions.length) * 100);
            });
            
            // Crear objeto con todos los resultados
            testResults = {
                testId: generateUniqueId(),
                testDate: new Date().toISOString(),
                userAnswers: userAnswers,
                archetypeCounts: archetypeCounts,
                archetypePercentages: archetypePercentages,
                primaryArchetype: primaryArchetype,
                primaryPercentage: archetypePercentages[primaryArchetype],
                secondaryArchetypes: sortedArchetypes.slice(1, 3).map(([name, count]) => ({
                    name: name,
                    count: count,
                    percentage: archetypePercentages[name]
                })),
                allArchetypes: sortedArchetypes.map(([name, count]) => ({
                    name: name,
                    count: count,
                    percentage: archetypePercentages[name]
                }))
            };
        }
        
        // Enviar resultados al backend
        function sendResultsToBackend(autoSend = false) {
            // Combinar resultados del test con informaci√≥n del usuario
            const dataToSend = {
                ...testResults,
                userInfo: userInfo
            };
            
            // Simular env√≠o al backend
            console.log("Enviando datos al backend:", dataToSend);
            
            // En un entorno real, aqu√≠ ir√≠a el c√≥digo para enviar los datos a tu backend
            // Por ejemplo:
            /*
            fetch('https://tu-backend.com/api/test-results', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(dataToSend)
            })
            .then(response => response.json())
            .then(data => {
                console.log('√âxito:', data);
                if (autoSend) {
                    showBackendNotification();
                }
            })
            .catch((error) => {
                console.error('Error:', error);
            });
            */
            
            // Para esta demostraci√≥n, simplemente mostramos la notificaci√≥n despu√©s de un breve retraso
            setTimeout(() => {
                if (autoSend) {
                    showBackendNotification();
                }
            }, 1000);
        }
        
        // Mostrar notificaci√≥n de env√≠o al backend
        function showBackendNotification() {
            backendNotification.classList.remove('hidden');
            backendNotification.classList.remove('translate-y-10', 'opacity-0');
            
            setTimeout(() => {
                backendNotification.classList.add('translate-y-10', 'opacity-0');
                setTimeout(() => {
                    backendNotification.classList.add('hidden');
                }, 300);
            }, 5000);
        }
        
        // Show archetypes info in modal
        function showArchetypesInfo() {
            let archetypesHTML = '';
            
            archetypesHTML += `
                <div class="mb-6 p-4 bg-blue-50 rounded-lg border border-blue-100">
                    <div class="flex items-center mb-3">
                        <div class="text-3xl mr-3">üßø</div>
                        <h4 class="text-lg font-bold text-blue-800">Metodolog√≠a vertical-i</h4>
                    </div>
                    <p class="text-gray-700 mb-3">La metodolog√≠a vertical-i, desarrollada por Josepolo, identifica seis arquetipos de innovaci√≥n fundamentales. Cada persona tiene una combinaci√≥n √∫nica de estos arquetipos, con uno o dos dominantes.</p>
                    <p class="text-gray-700">Conocer tu perfil de innovaci√≥n te permite potenciar tus fortalezas naturales y complementarte con otros arquetipos para formar equipos de innovaci√≥n m√°s efectivos en Previsora Seguros.</p>
                </div>
            `;
            
            Object.entries(archetypes).forEach(([name, archetype]) => {
                archetypesHTML += `
                    <div class="p-4 border border-${archetype.color}-200 rounded-lg bg-${archetype.color}-50">
                        <div class="flex items-center mb-3">
                            <div class="text-3xl mr-3">${archetype.icon}</div>
                            <h4 class="text-lg font-bold text-${archetype.color}-700">El ${name}</h4>
                        </div>
                        <p class="text-gray-700 mb-3">${archetype.fullDescription}</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-3 mb-3">
                            <div class="bg-white bg-opacity-70 p-2 rounded">
                                <div class="flex items-center">
                                    <span class="text-lg mr-2">${archetype.animalIcon}</span>
                                    <span class="text-sm font-medium">Animal: ${archetype.animal}</span>
                                </div>
                            </div>
                            <div class="bg-white bg-opacity-70 p-2 rounded">
                                <div class="flex items-center">
                                    <span class="text-lg mr-2">üëë</span>
                                    <span class="text-sm font-medium">Representante: ${archetype.entrepreneur}</span>
                                </div>
                            </div>
                            <div class="bg-white bg-opacity-70 p-2 rounded">
                                <div class="flex items-center">
                                    <span class="text-lg font-bold mr-2">${archetype.elementIcon}</span>
                                    <span class="text-sm font-medium">Elemento: ${archetype.element}</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                            <div>
                                <p class="font-medium text-sm text-${archetype.color}-700 mb-1">Fortalezas:</p>
                                <ul class="list-disc pl-5 text-gray-700 text-sm">
                                    ${archetype.strengths.map(strength => `<li>${strength}</li>`).join('')}
                                </ul>
                            </div>
                            <div>
                                <p class="font-medium text-sm text-${archetype.color}-700 mb-1">Desaf√≠os:</p>
                                <ul class="list-disc pl-5 text-gray-700 text-sm">
                                    ${archetype.challenges.map(challenge => `<li>${challenge}</li>`).join('')}
                                </ul>
                            </div>
                        </div>
                    </div>
                `;
            });
            
            document.getElementById('archetypes-info').innerHTML = archetypesHTML;
        }
        
        // Generar ID √∫nico para el test
        function generateUniqueId() {
            return 'test_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'93b34e3fb124f786',t:'MTc0NjQ4MDI3Ni4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
